<!DOCTYPE HTML>

<html><head><title>Memory</title><link href='https://fonts.googleapis.com/css?family=Aclonica' rel='stylesheet'></head>
<body style="background-color: aqua">
<center><h1 style="font-family: 'Aclonica';">Memory</h1><br><h2>Test your memory!</h2></center>
<form>
<span style="font-family: 'Aclonica'; font-size: 20px">Width:</span> <input type="number"  value =3 id="W" onchange="board_create();" ><br>
<span style="font-family: 'Aclonica'; font-size: 20px">Height:</span>  <input type="number"  value=3 id="H" onchange = "board_create()" >
</form>
<canvas width="10100px" height="5000px" style= "top: 10%" id="e"></canvas>
<script> 
//canvas setup

var canvas = document.getElementById("e");
var a = 100;
var ctx = canvas.getContext("2d");
var W;
var H;
ctx.noStroke;
ctx.fillStyle = "grey";
//the actual memorization objects
thing = function(ww,hh){
this.x = ww;
this.y = hh;
this.clickarea= [this.x,this.y,this.x+a,this.y+a];
this.green= false;
};
//drawing the things
thing.prototype.draw = function(){
if(this.green==false){
ctx.fillStyle="grey";
ctx.fillRect(this.x,this.y,a,a);
}else{ctx.fillStyle = "green";
ctx.fillRect(this.x,this.y,a,a);ctx.fillStyle = "grey";}
}

//detecting clicks
thing.prototype.detect = function(event){
if(event.offsetX>this.clickarea[0]&&event.offsetX<this.clickarea[2]&&event.offsetY>this.clickarea[1]&&event.offsetY<this.clickarea[3] ){
if(this.green==false){
ctx.fillStyle = "green";
ctx.fillRect(this.x,this.y,a,a);
this.green=true;
ctx.fillStyle="grey";
}
}}
//variables
var things= [];
var m=0;
var n = 0;


//creating the board

board_create = function(){
//resetting the board. It might have done something?
ctx.clearRect(0,0,12000,10200);
//more variable setup
n=0;
m=0;
things = [];
//limiting size
if(document.getElementById("W").value>64){
document.getElementById("W").value = 64;
}
if(document.getElementById("H").value>33){
document.getElementById("H").value = 33;
}
//for loop to create "things"
for(var i=0; i<(document.getElementById("W").value*document.getElementById("H").value);i++){

//creating a "thing"
things.push(new thing((n*150)+550,(m*150)+4));
things[i].green = false;
ctx.fillStyle="grey";
things[i].draw();
//2 dimensional creation that I thought of. 
n++;
if(n==document.getElementById("W").value){
n = 0;
m++;
}

}

};
//detect if a "thing" is clicked
detection = function(event){
for(var i=0; i<(document.getElementById("W").value*document.getElementById("H").value);i++){
things[i].detect(event);

}
}
//create it all
board_create();
//reload the areas to make a blink effect when clicked
var EE = window.setInterval(board_create, 150);
canvas.addEventListener("click", detection);
</script>
</body>
</html>